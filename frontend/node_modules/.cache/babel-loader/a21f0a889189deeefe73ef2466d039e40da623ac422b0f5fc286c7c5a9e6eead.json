{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"audio-works\"\n};\nconst _hoisted_2 = {\n  id: \"audio-form\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"UPLOAD\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"input\", {\n  id: \"file\",\n  name: \"file\",\n  type: \"file\",\n  accept: \"application/mp3\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Name\", -1 /* HOISTED */);\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<div id=\\\"audio-list\\\"><header><h2>FILES</h2></header><ul id=\\\"your-audios\\\"></ul></div><div id=\\\"audio-player\\\"><header><ul><li><h4 id=\\\"file-details\\\"></h4></li></ul></header><audio id=\\\"audio-screen\\\" controls></audio></div>\", 2);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", _hoisted_2, [_hoisted_3, _hoisted_4, _hoisted_5, _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filename = $event),\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filename]]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.filename == ''\n  }, \"Save\", 8 /* PROPS */, _hoisted_7)]), _hoisted_8]);\n}","map":{"version":3,"names":["class","id","_createElementVNode","name","type","accept","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","$data","filename","$event","disabled","_hoisted_7","_hoisted_8"],"sources":["/Users/hardik/Downloads/Dev/givemetheodds/frontend/src/components/FileWorks.vue"],"sourcesContent":["<template>\n  <div class=\"audio-works\">\n    <form id=\"audio-form\">\n      <h2>UPLOAD</h2>\n      <input id=\"file\" name=\"file\" type=\"file\" accept=\"application/mp3\"><br>\n      <label for=\"name\">Name</label>\n      <input id=\"name\" name=\"name\" v-model=\"filename\" type=\"text\">\n      <button type=\"submit\" :disabled=\"filename == ''\">Save</button>\n    </form>\n    <div id=\"audio-list\">\n      <header>\n          <h2>FILES</h2>\n      </header>\n      <ul id=\"your-audios\">\n      </ul>\n    </div>\n    <div id=\"audio-player\">\n        <header>\n          <ul><li><h4 id=\"file-details\"></h4></li></ul> \n        </header>\n        <audio id=\"audio-screen\" controls></audio>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AudioWorks',\n  props: {\n    msg: String\n  }, \n  data(){\n    return {\n      filename: '',\n    };\n  }\n}\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n{\nconst form = document.querySelector('#audio-form');\nconst audioDev = document.querySelector('#audio-player');\nconst audioScreen = document.querySelector('#audio-screen');\nvar myAuds = []\n\nconst queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n\nfetch('http://localhost:8080/api/audio/all')\n    .then(result => result.json())\n    .then(result => {\n        console.log(result)\n\n        myAuds = document.querySelector('#your-audios');\n        myAuds.setAttribute(\"display\", \"block\")\n        myAuds.setAttribute(\"float\", \"left\")\n        if(result.length > 0){\n            for(let aud of result){\n                const li = document.createElement('LI');\n                li.setAttribute(\"display\", \"block\")\n                li.setAttribute(\"float\", \"left\")\n                const link = document.createElement('A');\n                link.innerText = aud;\n                link.href = window.location.origin + window.location.pathname + '?audio=' + aud;\n                li.appendChild(link);\n                myAuds.appendChild(li);\n            }\n        }else{\n            myAuds.innerHTML = 'No audio files found';\n        }\n\n    });\n\nif(queryParams.audio){\n\n    audioScreen.src = `http://localhost:8080/api/audio/${queryParams.audio}`;\n    var audioDetails = `http://localhost:8080/api/audio/info/${queryParams.audio}`;\n    audioDev.style.display = 'block';\n    //document.querySelector('#now-playing')\n    //    .innerText = 'Now playing ' + queryParams.audio;\n    fetch(audioDetails).then(result => result.text()).then(r => {\n        console.log(r)\n        document.querySelector('#file-details')\n        .innerText = 'Details of ' + queryParams.audio + ' : ' + r\n    });\n\n}\n\nform.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data)\n    fetch('http://localhost:8080/api/audio', {\n        method: 'POST',\n        body: data\n    }).then(result => result.text()).then(r => {\n        console.log(r)\n        //delete queryParams.audio\n        //window.location.search = null\n        window.location.reload();\n    });\n\n});\n});\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAa;;EAChBC,EAAE,EAAC;AAAY;gCACnBC,mBAAA,CAAe,YAAX,QAAM;gCACVA,mBAAA,CAAkE;EAA3DD,EAAE,EAAC,MAAM;EAACE,IAAI,EAAC,MAAM;EAACC,IAAI,EAAC,MAAM;EAACC,MAAM,EAAC;;gCAAkBH,mBAAA,CAAI;gCACtEA,mBAAA,CAA8B;EAAvBI,GAAG,EAAC;AAAM,GAAC,MAAI;;;;uBAJ1BC,mBAAA,CAqBM,OArBNC,UAqBM,GApBJN,mBAAA,CAMO,QANPO,UAMO,GALLC,UAAe,EACfC,UAAkE,EAAAC,UAAI,EACtEC,UAA8B,E,gBAC9BX,mBAAA,CAA4D;IAArDD,EAAE,EAAC,MAAM;IAACE,IAAI,EAAC,MAAM;+DAAUW,KAAA,CAAAC,QAAQ,GAAAC,MAAA;IAAEZ,IAAI,EAAC;iDAAfU,KAAA,CAAAC,QAAQ,E,GAC9Cb,mBAAA,CAA8D;IAAtDE,IAAI,EAAC,QAAQ;IAAEa,QAAQ,EAAEH,KAAA,CAAAC,QAAQ;KAAQ,MAAI,iBAAAG,UAAA,E,GAEvDC,UAMM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}