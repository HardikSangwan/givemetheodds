{"ast":null,"code":"export default {\n  name: 'FileWorks',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      filename: ''\n    };\n  }\n};\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.querySelector('#file-form');\n  const fileDev = document.querySelector('#path-player');\n  var myFiles = [];\n  const queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n  fetch('http://localhost:8000/millenium-falcon.json/empire.json').then(result => result.json()).then(result => {\n    console.log(result);\n    myFiles = document.querySelector('#your-files');\n    myFiles.setAttribute(\"display\", \"block\");\n    myFiles.setAttribute(\"float\", \"left\");\n    if (result.length > 0) {\n      for (let file of result) {\n        const li = document.createElement('LI');\n        li.setAttribute(\"display\", \"block\");\n        li.setAttribute(\"float\", \"left\");\n        const link = document.createElement('A');\n        link.innerText = file;\n        link.href = window.location.origin + window.location.pathname + '?file=' + file;\n        li.appendChild(link);\n        myFiles.appendChild(li);\n      }\n    } else {\n      myFiles.innerHTML = 'No files found';\n    }\n  });\n  if (queryParams.file) {\n    var fileDetails = `http://localhost:8000/`;\n    fileDev.style.display = 'block';\n    fetch(fileDetails).then(result => result.text()).then(r => {\n      console.log(r);\n      document.querySelector('#file-details').innerText = 'Details of ' + queryParams.file + ' : ' + r;\n    });\n  }\n  form.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data);\n    fetch('http://localhost:8000/millennium-falcon.json/empire.json', {\n      method: 'POST',\n      body: data\n    }).then(result => result.text()).then(r => {\n      console.log(r);\n      //window.location.search = null\n      //window.location.reload();\n    });\n  });\n});","map":{"version":3,"names":["name","props","msg","String","data","filename","document","addEventListener","form","querySelector","fileDev","myFiles","queryParams","Object","fromEntries","URLSearchParams","window","location","search","fetch","then","result","json","console","log","setAttribute","length","file","li","createElement","link","innerText","href","origin","pathname","appendChild","innerHTML","fileDetails","style","display","text","r","ev","preventDefault","FormData","method","body"],"sources":["/Users/hardik/Downloads/Dev/givemetheodds/frontend/src/components/FileWorks.vue"],"sourcesContent":["<template>\n  <div class=\"file-works\">\n    <form id=\"file-form\">\n      <h2>UPLOAD</h2>\n      <input id=\"file\" name=\"file\" type=\"file\" accept=\"application/json\"><br>\n      <label for=\"name\">Name</label>\n      <input id=\"name\" name=\"name\" v-model=\"filename\" type=\"text\">\n      <button type=\"submit\" :disabled=\"filename == ''\">Save</button>\n    </form>\n    <div id=\"file-list\">\n      <header>\n          <h2>FILES</h2>\n      </header>\n      <ul id=\"your-files\">\n      </ul>\n    </div>\n    <div id=\"path-player\">\n        <header>\n          <ul><li><h4 id=\"file-details\"></h4></li></ul> \n        </header>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FileWorks',\n  props: {\n    msg: String\n  }, \n  data(){\n    return {\n      filename: '',\n    };\n  }\n}\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n{\nconst form = document.querySelector('#file-form');\nconst fileDev = document.querySelector('#path-player');\nvar myFiles = []\nconst queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n\nfetch('http://localhost:8000/millenium-falcon.json/empire.json')\n    .then(result => result.json())\n    .then(result => {\n        console.log(result)\n\n        myFiles = document.querySelector('#your-files');\n        myFiles.setAttribute(\"display\", \"block\")\n        myFiles.setAttribute(\"float\", \"left\")\n        if(result.length > 0){\n            for(let file of result){\n                const li = document.createElement('LI');\n                li.setAttribute(\"display\", \"block\")\n                li.setAttribute(\"float\", \"left\")\n                const link = document.createElement('A');\n                link.innerText = file;\n                link.href = window.location.origin + window.location.pathname + '?file=' + file;\n                li.appendChild(link);\n                myFiles.appendChild(li);\n            }\n        }else{\n            myFiles.innerHTML = 'No files found';\n        }\n\n    });\n\nif(queryParams.file){\n\n    var fileDetails = `http://localhost:8000/`;\n    fileDev.style.display = 'block';\n    fetch(fileDetails).then(result => result.text()).then(r => {\n        console.log(r)\n        document.querySelector('#file-details')\n        .innerText = 'Details of ' + queryParams.file + ' : ' + r\n    });\n\n}\n\nform.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data)\n    fetch('http://localhost:8000/millennium-falcon.json/empire.json', {\n        method: 'POST',\n        body: data\n    }).then(result => result.text()).then(r => {\n        console.log(r)\n        //window.location.search = null\n        //window.location.reload();\n    });\n\n});\n});\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}