{"ast":null,"code":"export default {\n  name: 'FileWorks',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      filename: ''\n    };\n  }\n};\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.querySelector('#file-form');\n  var myFiles = [];\n  fetch('http://localhost:8000/empire.json').then(result => result.json()).then(result => {\n    console.log(result);\n    myFiles = document.querySelector('#your-files');\n    myFiles.setAttribute(\"display\", \"block\");\n    myFiles.setAttribute(\"float\", \"left\");\n    if (result.length > 0) {\n      for (let file of result) {\n        const li = document.createElement('LI');\n        li.setAttribute(\"display\", \"block\");\n        li.setAttribute(\"float\", \"left\");\n        const link = document.createElement('A');\n        link.innerText = file;\n        link.href = window.location.origin + window.location.pathname + '?file=' + file;\n        li.appendChild(link);\n        myFiles.appendChild(li);\n      }\n    } else {\n      myFiles.innerHTML = 'No files found';\n    }\n  });\n  form.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data.name);\n    fetch('http://localhost:8000/empire.json', {\n      method: 'POST',\n      body: data\n    }).then(result => result.text()).then(r => {\n      console.log(r);\n      document.querySelector('#file-details').innerText = r;\n      //window.location.search = null\n      //window.location.reload();\n    });\n  });\n});","map":{"version":3,"names":["name","props","msg","String","data","filename","document","addEventListener","form","querySelector","myFiles","fetch","then","result","json","console","log","setAttribute","length","file","li","createElement","link","innerText","href","window","location","origin","pathname","appendChild","innerHTML","ev","preventDefault","FormData","method","body","text","r"],"sources":["/Users/hardik/Downloads/Dev/givemetheodds/frontend/src/components/FileWorks.vue"],"sourcesContent":["<template>\n  <div class=\"file-works\">\n    <form id=\"file-form\">\n      <h2>UPLOAD</h2>\n      <input id=\"file\" name=\"file\" type=\"file\" accept=\"application/json\"><br>\n      <label for=\"name\">Name</label>\n      <input id=\"name\" name=\"name\" v-model=\"filename\" type=\"text\">\n      <button type=\"submit\" :disabled=\"filename == ''\">Save</button>\n    </form>\n    <div id=\"file-list\">\n      <header>\n          <h2>ODDS</h2>\n      </header>\n      <ul id=\"your-files\">\n      </ul>\n    </div>\n    <div id=\"path-player\">\n        <header>\n          <ul><li><h4 id=\"file-details\"></h4></li></ul> \n        </header>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FileWorks',\n  props: {\n    msg: String\n  }, \n  data(){\n    return {\n      filename: '',\n    };\n  }\n}\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n{\nconst form = document.querySelector('#file-form');\nvar myFiles = []\n\nfetch('http://localhost:8000/empire.json')\n    .then(result => result.json())\n    .then(result => {\n        console.log(result)\n\n        myFiles = document.querySelector('#your-files');\n        myFiles.setAttribute(\"display\", \"block\")\n        myFiles.setAttribute(\"float\", \"left\")\n        if(result.length > 0){\n            for(let file of result){\n                const li = document.createElement('LI');\n                li.setAttribute(\"display\", \"block\")\n                li.setAttribute(\"float\", \"left\")\n                const link = document.createElement('A');\n                link.innerText = file;\n                link.href = window.location.origin + window.location.pathname + '?file=' + file;\n                li.appendChild(link);\n                myFiles.appendChild(li);\n            }\n        }else{\n            myFiles.innerHTML = 'No files found';\n        }\n\n    });\n\nform.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data.name)\n    fetch('http://localhost:8000/empire.json', {\n        method: 'POST',\n        body: data\n    }).then(result => result.text()).then(r => {\n        console.log(r)\n        document.querySelector('#file-details')\n        .innerText = r\n        //window.location.search = null\n        //window.location.reload();\n    });\n\n});\n});\n</script>\n"],"mappings":"AAyBA,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;IACLC,GAAG,EAAEC;EACP,CAAC;EACDC,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH;AACF;AACAC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAC9C;EACA,MAAMC,IAAG,GAAIF,QAAQ,CAACG,aAAa,CAAC,YAAY,CAAC;EACjD,IAAIC,OAAM,GAAI,EAAC;EAEfC,KAAK,CAAC,mCAAmC,EACpCC,IAAI,CAACC,MAAK,IAAKA,MAAM,CAACC,IAAI,EAAE,EAC5BF,IAAI,CAACC,MAAK,IAAK;IACZE,OAAO,CAACC,GAAG,CAACH,MAAM;IAElBH,OAAM,GAAIJ,QAAQ,CAACG,aAAa,CAAC,aAAa,CAAC;IAC/CC,OAAO,CAACO,YAAY,CAAC,SAAS,EAAE,OAAO;IACvCP,OAAO,CAACO,YAAY,CAAC,OAAO,EAAE,MAAM;IACpC,IAAGJ,MAAM,CAACK,MAAK,GAAI,CAAC,EAAC;MACjB,KAAI,IAAIC,IAAG,IAAKN,MAAM,EAAC;QACnB,MAAMO,EAAC,GAAId,QAAQ,CAACe,aAAa,CAAC,IAAI,CAAC;QACvCD,EAAE,CAACH,YAAY,CAAC,SAAS,EAAE,OAAO;QAClCG,EAAE,CAACH,YAAY,CAAC,OAAO,EAAE,MAAM;QAC/B,MAAMK,IAAG,GAAIhB,QAAQ,CAACe,aAAa,CAAC,GAAG,CAAC;QACxCC,IAAI,CAACC,SAAQ,GAAIJ,IAAI;QACrBG,IAAI,CAACE,IAAG,GAAIC,MAAM,CAACC,QAAQ,CAACC,MAAK,GAAIF,MAAM,CAACC,QAAQ,CAACE,QAAO,GAAI,QAAO,GAAIT,IAAI;QAC/EC,EAAE,CAACS,WAAW,CAACP,IAAI,CAAC;QACpBZ,OAAO,CAACmB,WAAW,CAACT,EAAE,CAAC;MAC3B;IACJ,CAAC,MAAI;MACDV,OAAO,CAACoB,SAAQ,GAAI,gBAAgB;IACxC;EAEJ,CAAC,CAAC;EAENtB,IAAI,CAACD,gBAAgB,CAAC,QAAQ,EAAEwB,EAAC,IAAK;IAClCA,EAAE,CAACC,cAAc,EAAE;IACnB,IAAI5B,IAAG,GAAI,IAAI6B,QAAQ,CAACzB,IAAI,CAAC;IAC7BO,OAAO,CAACC,GAAG,CAACZ,IAAI,CAACJ,IAAI;IACrBW,KAAK,CAAC,mCAAmC,EAAE;MACvCuB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE/B;IACV,CAAC,CAAC,CAACQ,IAAI,CAACC,MAAK,IAAKA,MAAM,CAACuB,IAAI,EAAE,CAAC,CAACxB,IAAI,CAACyB,CAAA,IAAK;MACvCtB,OAAO,CAACC,GAAG,CAACqB,CAAC;MACb/B,QAAQ,CAACG,aAAa,CAAC,eAAe,EACrCc,SAAQ,GAAIc,CAAA;MACb;MACA;IACJ,CAAC,CAAC;EAEN,CAAC,CAAC;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}