{"ast":null,"code":"export default {\n  name: 'AudioWorks',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      filename: ''\n    };\n  }\n};\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const form = document.querySelector('#audio-form');\n  const audioDev = document.querySelector('#audio-player');\n  const audioScreen = document.querySelector('#audio-screen');\n  var myAuds = [];\n  const queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n  fetch('http://localhost:8080/api/audio/all').then(result => result.json()).then(result => {\n    console.log(result);\n    myAuds = document.querySelector('#your-audios');\n    myAuds.setAttribute(\"display\", \"block\");\n    myAuds.setAttribute(\"float\", \"left\");\n    if (result.length > 0) {\n      for (let aud of result) {\n        const li = document.createElement('LI');\n        li.setAttribute(\"display\", \"block\");\n        li.setAttribute(\"float\", \"left\");\n        const link = document.createElement('A');\n        link.innerText = aud;\n        link.href = window.location.origin + window.location.pathname + '?audio=' + aud;\n        li.appendChild(link);\n        myAuds.appendChild(li);\n      }\n    } else {\n      myAuds.innerHTML = 'No audio files found';\n    }\n  });\n  if (queryParams.audio) {\n    audioScreen.src = `http://localhost:8080/api/audio/${queryParams.audio}`;\n    var audioDetails = `http://localhost:8080/api/audio/info/${queryParams.audio}`;\n    audioDev.style.display = 'block';\n    //document.querySelector('#now-playing')\n    //    .innerText = 'Now playing ' + queryParams.audio;\n    fetch(audioDetails).then(result => result.text()).then(r => {\n      console.log(r);\n      document.querySelector('#file-details').innerText = 'Details of ' + queryParams.audio + ' : ' + r;\n    });\n  }\n  form.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data);\n    fetch('http://localhost:8080/api/audio', {\n      method: 'POST',\n      body: data\n    }).then(result => result.text()).then(r => {\n      console.log(r);\n      //delete queryParams.audio\n      //window.location.search = null\n      window.location.reload();\n    });\n  });\n});","map":{"version":3,"names":["name","props","msg","String","data","filename","document","addEventListener","form","querySelector","audioDev","audioScreen","myAuds","queryParams","Object","fromEntries","URLSearchParams","window","location","search","fetch","then","result","json","console","log","setAttribute","length","aud","li","createElement","link","innerText","href","origin","pathname","appendChild","innerHTML","audio","src","audioDetails","style","display","text","r","ev","preventDefault","FormData","method","body","reload"],"sources":["/Users/hardik/Downloads/Dev/givemetheodds/frontend/src/components/AudioWorks.vue"],"sourcesContent":["<template>\n  <div class=\"audio-works\">\n    <form id=\"audio-form\">\n      <h2>UPLOAD</h2>\n      <input id=\"file\" name=\"file\" type=\"file\" accept=\"application/mp3\"><br>\n      <label for=\"name\">Name</label>\n      <input id=\"name\" name=\"name\" v-model=\"filename\" type=\"text\">\n      <button type=\"submit\" :disabled=\"filename == ''\">Save</button>\n    </form>\n    <div id=\"audio-list\">\n      <header>\n          <h2>FILES</h2>\n      </header>\n      <ul id=\"your-audios\">\n      </ul>\n    </div>\n    <div id=\"audio-player\">\n        <header>\n          <ul><li><h4 id=\"file-details\"></h4></li></ul> \n        </header>\n        <audio id=\"audio-screen\" controls></audio>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AudioWorks',\n  props: {\n    msg: String\n  }, \n  data(){\n    return {\n      filename: '',\n    };\n  }\n}\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n{\nconst form = document.querySelector('#audio-form');\nconst audioDev = document.querySelector('#audio-player');\nconst audioScreen = document.querySelector('#audio-screen');\nvar myAuds = []\n\nconst queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n\nfetch('http://localhost:8080/api/audio/all')\n    .then(result => result.json())\n    .then(result => {\n        console.log(result)\n\n        myAuds = document.querySelector('#your-audios');\n        myAuds.setAttribute(\"display\", \"block\")\n        myAuds.setAttribute(\"float\", \"left\")\n        if(result.length > 0){\n            for(let aud of result){\n                const li = document.createElement('LI');\n                li.setAttribute(\"display\", \"block\")\n                li.setAttribute(\"float\", \"left\")\n                const link = document.createElement('A');\n                link.innerText = aud;\n                link.href = window.location.origin + window.location.pathname + '?audio=' + aud;\n                li.appendChild(link);\n                myAuds.appendChild(li);\n            }\n        }else{\n            myAuds.innerHTML = 'No audio files found';\n        }\n\n    });\n\nif(queryParams.audio){\n\n    audioScreen.src = `http://localhost:8080/api/audio/${queryParams.audio}`;\n    var audioDetails = `http://localhost:8080/api/audio/info/${queryParams.audio}`;\n    audioDev.style.display = 'block';\n    //document.querySelector('#now-playing')\n    //    .innerText = 'Now playing ' + queryParams.audio;\n    fetch(audioDetails).then(result => result.text()).then(r => {\n        console.log(r)\n        document.querySelector('#file-details')\n        .innerText = 'Details of ' + queryParams.audio + ' : ' + r\n    });\n\n}\n\nform.addEventListener('submit', ev => {\n    ev.preventDefault();\n    let data = new FormData(form);\n    console.log(data)\n    fetch('http://localhost:8080/api/audio', {\n        method: 'POST',\n        body: data\n    }).then(result => result.text()).then(r => {\n        console.log(r)\n        //delete queryParams.audio\n        //window.location.search = null\n        window.location.reload();\n    });\n\n});\n});\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}